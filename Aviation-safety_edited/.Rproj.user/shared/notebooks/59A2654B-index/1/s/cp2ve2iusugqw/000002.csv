"0","comm_url <- ""https://www.bts.gov/sites/bts.dot.gov/files/table_02_09_121819.xlsx"" "
"0","filename = (paste((getwd()),""/comm_data_table.xlsx"", sep = """"))"
"0","invisible(download.file(url = comm_url, destfile = filename, mode='wb'))"
"2","trying URL 'https://www.bts.gov/sites/bts.dot.gov/files/table_02_09_121819.xlsx'
"
"2","Content type 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'"
"2"," length 26967 bytes (26 KB)
"
"2","downloaded 26 KB

"
"0","comm_data <- read.xlsx(filename, startRow = 2, colNames = TRUE, rowNames = FALSE) "
"0","      comm_data <- comm_data[1:22,] ## data ends on row 24. It is followed by paragprahs of annotations"
"0","          comm_data <- as.matrix(comm_data)"
"0","          rn <- comm_data[,1]"
"0","          rownames(comm_data) <- rn"
"0","          comm_data <- comm_data[,2:ncol(comm_data)]"
"0",""
"0","                  comm_transpose <- as.data.frame(t(as.matrix(comm_data)))"
"0","                  comm_transpose$year <- rownames(comm_transpose)"
"0","                  comm_transpose <- comm_transpose[2:nrow(comm_transpose),]"
"0","                  comm_transpose <- comm_transpose[comm_transpose$year >= 2000,]"
"0","                  "
"0","                      df_comm_transpose <- as.data.frame(comm_transpose)"
"0","                      df_comm_transpose_numeric <- data.frame(lapply(df_comm_transpose, function(x) as.numeric(as.character(x)))) # change variables from factors to numeric"
"0",""
"0","comm_fatality_rate <- c(df_comm_transpose_numeric$Total.accidents..fatal.2)"
"0",""
"0","head(df_comm_transpose_numeric)"
